<div class="feedback-container">
  <!-- Navbar -->
  <nav class="navbar">
    <div class="navbar-content">
      <span>Feedback</span>
    </div>
  </nav>

  <!-- Full-Screen Image -->
  <div class="image-container"
       [ngStyle]="{
           'background-image': 'url(/assets/images/backgrounds/new.jpg)',
           'opacity': imageOpacity,
           'transform': 'translateY(' + imageTranslateY + 'px)'
       }">
  </div>

  <!-- Feedback Content Section -->
  <div class="feedback-content" 
       [ngStyle]="{
          'background-image': 'url(/assets/images/backgrounds/new.jpg)', 
          'background-size': 'cover', 
          'background-position': 'center',
          'opacity': scrolled ? 0.9 : 1
       }">
      <h2 class="header-text">The one where you tell us what you think...</h2>

      <!-- Feedback Form with Validation -->
      <div class="feedback-form">
          <form (ngSubmit)="submitFeedback()" #feedbackForm="ngForm">
              <div class="form-group">
                  <label for="name">Name:</label>
                  <input type="text" id="name" [(ngModel)]="feedback.name" name="name" required />
                  <div *ngIf="feedbackForm.submitted && !feedback.name" class="error">Name is required!</div>
                  <div *ngIf="feedbackForm.submitted && feedback.name && !validateName(feedback.name)" class="error">Name should only contain letters!</div>
              </div>

              <div class="form-group">
                  <label for="email">Email:</label>
                  <input type="email" id="email" [(ngModel)]="feedback.email" name="email" required />
                  <div *ngIf="feedbackForm.submitted && !feedback.email" class="error">Valid email is required!</div>
                  <div *ngIf="feedbackForm.submitted && feedback.email && !validateEmail(feedback.email)" class="error">Please provide a valid Gmail address!</div>
              </div>

              <div class="form-group">
                  <label for="phone">Phone Number:</label>
                  <input type="tel" id="phone" [(ngModel)]="feedback.phone" name="phone" pattern="[0-9]{10}" required />
                  <div *ngIf="feedbackForm.submitted && !feedback.phone" class="error">Valid 10-digit phone number is required!</div>
                  <div *ngIf="feedbackForm.submitted && feedback.phone && !validatePhone(feedback.phone)" class="error">Phone number should be 10 digits!</div>
              </div>

              <div class="form-group">
                  <label for="feedbackText">Feedback:</label>
                  <textarea id="feedbackText" [(ngModel)]="feedback.feedbackText" name="feedbackText" required></textarea>
                  <div *ngIf="feedbackForm.submitted && !feedback.feedbackText" class="error">Feedback cannot be empty!</div>
              </div>

              <!-- Rating Section -->
              <div class="rating">
                  <h3 class="rating-text">Could our service BE any more amazing?<br> Rate us!</h3>
                  <div class="stars">
                      <span *ngFor="let star of stars; let i = index" 
                            (click)="rate(i + 1)" 
                            [class.filled]="userRating > i">
                        &#9733;
                      </span>
                  </div>
                  <div *ngIf="feedbackForm.submitted && userRating === 0" class="error">Rating is required!</div>
              </div>

              <!-- Submit Button -->
              <div class="submit-section">
                  <button type="submit">Submit <i class="fas fa-paper-plane"></i></button>
              </div>
          </form>
      </div>
  </div>
</div>

<!-- Sweet Information Section -->
<div class="sweet-info">
  <h3>ğŸŒŸ Thank You for Sharing Your Thoughts!</h3>
  <p>Your feedback helps us grow and continue providing exceptional car care services. Every review you share brings us closer to perfection!</p>

  <h3>ğŸŒ¿ Our Achievements & Impact</h3>
  <ul>
      <li>âœ… Planted over <b>1,000 trees</b> to promote a greener planet.</li>
      <li>âœ… Committed to <b>eco-friendly</b> car wash techniques.</li>
      <li>âœ… Sponsored <b>local charity drives</b> and school programs.</li>
  </ul>

  <h3>ğŸš— Fun Fact</h3>
  <p>Did you know a well-maintained car can last over <b>200,000 miles?</b> That's like driving around the Earth 8 times! ğŸŒ</p>

  <p><b>ğŸ’™ Shift gears for a brighter futureâ€”safer cars, cleaner roads, better world!</b></p>
</div>
